{% extends "layouts/main.html" %}

{% block pageTitle %}
  Content page template – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}


{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

      <h1 class="govuk-heading-xl">
        Agent dashboard
      </h1>
<!-- Start trigger area -->
 <ul class="dashboard" id="id-caseload-summary">
      <li class="dashboard__metric dashboard__metric--OUTSTANDING_JOURNAL_ENTRY">
        <a class="dashboard__metric-link" href="journal-entries.html">
          <div class="dashboard__metric-heading">
            <span class="visuallyhidden govuk-visually-hidden">View</span>
            Journal entries
            <span class="dashboard__metric-heading-arrow" aria-hidden="true"></span>
          </div>

          <div class="dashboard__metric-value dashboard__metric-value--OUTSTANDING_JOURNAL_ENTRY " data-look-at-now-value-type="OUTSTANDING_JOURNAL_ENTRY">
            <div>

                <span class="dashboard__metric-base-value" data-look-at-now-value="">5</span>

            </div>
            <div class="dashboard__metric-icons">

            </div>
          </div>
        </a>
      </li>
      <li class="dashboard__metric dashboard__metric--OTHER_ACTIONS">
        <a class="dashboard__metric-link" href="other-actions.html">
          <div class="dashboard__metric-heading">
            <span class="visuallyhidden govuk-visually-hidden">View</span>
            Other actions
            <span class="dashboard__metric-heading-arrow" aria-hidden="true"></span>
          </div>

          <div class="dashboard__metric-value dashboard__metric-value--OTHER_ACTIONS " data-look-at-now-value-type="OTHER_ACTIONS">
            <div>

                <span class="dashboard__metric-base-value" data-look-at-now-value="">
                  
        3
        </span>

            </div>
            <div class="dashboard__metric-icons">

            </div>
          </div>
        </a>
      </li>
  </ul>

  <!-- End trigger area -->

  <!-- Start table area -->

 {% set totNum = 0 %} 
 	{% for claimant in claimants %}
  		 {% set totNum = totNum + 1 %}
  {% endfor %}
 <h2 class="govuk-heading-m">Your reviews</h2>
 <p class="remove-outline" id="filters__results-number">Showing <span class="bold">{{totNum}}</span> reviews.</p>


<table class="sortable-table claimant-table meta-list qa-claimant-table clear no-margin" aria-label="Claimants details - Name, Stage, Last updated" data-sort-status-message="Table sorted by {column} ({direction})" data-sort-ascending-text="ascending" data-sort-descending-text="descending" data-sortable-table-persist-id="homePage">
  <thead>
  <tr>
    
    <th scope="col" class="qa-name-title">Name</th>
    <th scope="col" class="qa-next-appointment-title" aria-sort="none"><button type="button" class="link-style sortable-table__button" aria-describedby="sortable-table__sort-descending">Stage<span class="icon" aria-hidden="true"></span></button></th>
      <th scope="col" class="qa-entitlement-date-title" aria-sort="none"><button type="button" class="link-style sortable-table__button" aria-describedby="sortable-table__sort-descending">Due<span class="icon" aria-hidden="true"></span></button></th>
  </tr>
  </thead>
  <tbody>

   	{% for claimant in claimants %}
    <tr class="single list-item">
  
  <td data-sort-value="null" class="name">
    <a href="/v2/tasklist?reference={{claimant.reference}}" class="qa-name">{{claimant.name}}</a> 
    
  </td>
  <td data-sort-value="0" class="nextAppointment" data-claimant-appointment="">
  {% include "./includes/_stages.html" %}
  </td>
    <td data-sort-value="2025-06-02T12:00:42.962Z" class="dueDate">
{% if claimant.substage =="Suspended (Awaiting a report your income and expenses to do)" %}
  {{ 'DD MMMM YYYY' | baseDateAdd(27) }} 

  {% elif claimant.substage =="Suspended (Awaiting missing evidence)" %}
  {{ 'DD MMMM YYYY' | baseDateAdd(28) }} 

  {% elif claimant.substage =="Awaiting a new ‘Report your income and expenses to do’" %}
  {{ 'DD MMMM YYYY' | baseDateAdd(26) }} 

  {% elif  claimant.stage =='Awaiting initial evidence' and claimant.substage =="Given more time" %}
    {{ 'DD MMMM YYYY' | baseDateAdd(12) }} 

  {% elif  claimant.stage =='Awaiting initial evidence' and claimant.substage =="Suspended" %}
    {{ 'DD MMMM YYYY' | baseDateAdd(20) }} 

  {% elif  claimant.stage =='Awaiting initial evidence' or claimant.substage =="Awaiting missing evidence" %}
  {{ 'DD MMMM YYYY' | baseDateAdd(10) }} 
  {% else %}
   {% endif %}
  </td>
</tr>

  {% endfor %}


  </tbody>
</table>

  <!-- Endtable area -->

    </div>
  </div>

{% endblock %}
